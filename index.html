<!DOCTYPE html>
<html>
<head>
  <title>Event Registration</title>
  <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS file -->
</head>
<body>
  <h1>Register for the Event</h1>
  <form id="registrationForm">
    <label for="name">Name:</label>
    <input type="text" id="name" required><br>
    <label for="email">Email:</label>
    <input type="email" id="email" required><br>
    <button type="submit">Register</button>
  </form>

  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    // EmailJS initialization
    (function(){
        emailjs.init("Ch_buYIHpB0sg-yKm"); // Replace with your EmailJS user ID
    })();

    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the default form submission
        
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;

        // Pre-filled Google Form URL (use your own form link)
        const googleFormURL = "https://docs.google.com/forms/d/e/1FAIpQLSdM5RwdZ-2RtVCV2QCgJvum2XyHokvq3OvYtgw0l7Bip8ft7g/formResponse";
        
        // Create a hidden iframe to submit the form
        let formData = new FormData();
        formData.append("entry.1654506017", name); // Replace with your Google Form field ID
        formData.append("entry.1425649245", email); // Replace with your Google Form field ID
        fetch(googleFormURL, {
            method: "POST",
            mode: "no-cors",
            body: formData
        }).then(() => {
            console.log("Form submitted to Google Forms!");

            // Send email using EmailJS
            emailjs.send("service_z3gxw2l", "template_5hd06zk", {
                to_name: name,
                to_email: email,
            }).then(response => {
                alert("Registration Successful! Email sent.");
            }).catch(error => {
                console.error("Error sending email:", error);
            });
        });
    });
  </script>
</body>
</html>
